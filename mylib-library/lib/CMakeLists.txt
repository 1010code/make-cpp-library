SET(MYLIB_SRC mylib.cpp)

ADD_LIBRARY(mylib_static STATIC ${MYLIB_SRC})
SET_TARGET_PROPERTIES(mylib_static PROPERTIES  OUTPUT_NAME "mylib")
SET_TARGET_PROPERTIES(mylib_static PROPERTIES CLEAN_DIRECT_OUTPUT 1)

ADD_LIBRARY(mylib SHARED ${MYLIB_SRC})
SET_TARGET_PROPERTIES(mylib PROPERTIES  OUTPUT_NAME "mylib")
SET_TARGET_PROPERTIES(mylib PROPERTIES CLEAN_DIRECT_OUTPUT 1)

INSTALL(FILES mylib.h DESTINATION include/mylib)
INSTALL(TARGETS mylib mylib_static LIBRARY DESTINATION lib ARCHIVE DESTINATION lib)